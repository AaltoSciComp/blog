<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="libwebp security vulnerability and computational scientists" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://aaltoscicomp.github.io/blog/2023/webp-security-vulnerability/" />
<meta property="og:site_name" content="Aalto SciComp Blog" />
<meta property="og:description" content="Recently, a major security vulnerability (CVE-2023-5129) has been found in libwebp, an image decoding library for the.webp format. This is major, since this library is embedded in many apps and web..." />
<meta property="og:image" content="https://scicomp.aalto.fi/_static/asc-socialshare-02.png" />
<meta property="og:image:alt" content="ASC hexagon logo; Aalto Scientific Computing; Data, Software, Computing, HPC, and Training." />
<meta name="description" content="Recently, a major security vulnerability (CVE-2023-5129) has been found in libwebp, an image decoding library for the.webp format. This is major, since this library is embedded in many apps and web..." />
<meta property="twitter:creator" content="@SciCompAalto" />

    <title>libwebp security vulnerability and computational scientists &#8212; Aalto Scientific Computing Blog  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=27fed22d" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx_rtd_theme_ext_color_contrast.css?v=8e8ea19f" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <script src="../../_static/jquery.js?v=5d32c60e"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../../_static/documentation_options.js?v=187304be"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script data-domain="aaltoscicomp.github.io" defer="defer" src="https://plausible.cs.aalto.fi/js/script.js"></script>
    <link rel="icon" href="../../_static/logo-hexagons-02-compact.svg.ico"/>
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" /> 
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  
 
<link
  rel="alternate"
  type="application/atom+xml"
  href="../../blog/atom.xml"
  title="Aalto Scientific Computing Blog"
/>
  
  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
             <section id="libwebp-security-vulnerability-and-computational-scientists">
<h1>libwebp security vulnerability and computational scientists<a class="headerlink" href="#libwebp-security-vulnerability-and-computational-scientists" title="Link to this heading"></a></h1>
<p>Recently, a <a class="reference external" href="https://blog.isosceles.com/the-webp-0day/">major security vulnerability (CVE-2023-5129)</a> has been
found in <code class="docutils literal notranslate"><span class="pre">libwebp</span></code>, an image decoding library for the <cite>.webp</cite> format.
This is major, since this library is embedded in many apps and web
browsers and allows remote code execution just by opening a file.  For
computational scientists, there is still some impact - and it’s harder
to compensate for.  In short, just by processing an image in the .webp
format, someone can take over your computer or session.</p>
<p><code class="docutils literal notranslate"><span class="pre">libwebp</span></code> is the current issue, but the problem is general:
<strong>computational scientists often create software environments and use
them for a long
time.  These environments aren’t usually browsing the web (the most
likely attack vector here), but they do involve lots of code installed
from different projects.  How does one manage security in this case?</strong></p>
<p><em>This post may be updated</em></p>
<section id="how-it-affects-scientists">
<h2>How it affects scientists<a class="headerlink" href="#how-it-affects-scientists" title="Link to this heading"></a></h2>
<p>If you use web browsers or apps on your own desktops, laptops, phones,
etc. - make sure update them!</p>
<p>If you don’t use images in your research, there probably isn’t much
impact.</p>
<p>If you <em>do</em>, this is what could happen:</p>
<ul class="simple">
<li><p>You make a Python / Anaconda environment which uses <cite>libwebp</cite>
somehow - directly installed through Conda, or some other
application.</p></li>
<li><p>You download a dataset containing images.  You process them as part
of your research with the old environment.</p></li>
<li><p>The malicious image runs an exploit.  It has access to your whole
user account on that computer: extract any data, add SSH keys for
remote access, corrupt/delete data (which might not be backed up
from the cluster…).</p></li>
</ul>
<p>Many things have to happen here, but it’s very possible for it to
happen.  You could <strong>lose access to non-backed up data or code</strong> or
<strong>other confidential or sensitive data could be compromised</strong>, since
code from one project from your user account has access to all
projects from your account.</p>
<p>One would normally fix things by updating software.  But when you are
dealing with a research environment that can’t easily be updated, what
should you do?  This is the real question here.</p>
</section>
<section id="what-to-do">
<h2>What to do<a class="headerlink" href="#what-to-do" title="Link to this heading"></a></h2>
<p>It’s a multi-layered problem, and the answer will depend on your
work.  <strong>libwebp is what we are thinking about now, but the problem is
general: there are other security problems that occasionally come up
that can affect more scientific code.  How do you prepare for next time?</strong></p>
<ul class="simple">
<li><p>Update your environments (conda, virtualenv, etc).  You could try to
see if <code class="docutils literal notranslate"><span class="pre">libwebp</span></code> is inside of them (<code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">list</span> <span class="pre">|</span> <span class="pre">grep</span> <span class="pre">webp</span></code>),
but especially for Pip packages it might not be apparent.</p></li>
<li><p>Make your environments reproducible: If you define your dependencies
in <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> (Python), <code class="docutils literal notranslate"><span class="pre">environment.yml</span></code> (conda), or
whatever is suitable for your language, you can easily re-generate
environments to bring everything up to date.  (delete old one,
re-create).</p></li>
<li><p>If you pin versions of dependencies (like <code class="docutils literal notranslate"><span class="pre">numpy==1.20.0</span></code>), it’s
possible it can pull in older versions of other dependencies.</p></li>
<li><p>Containerize your workflows.  If code runs inside of a container, it
keeps it isolated from the rest of the operating system and user
account.  (but containers aren’t usually designed for strict
security, but it’s better than nothing).</p></li>
<li><p>If you use pre-built modules on the cluster, try not to use old
versions.  We’ll update some recent modules, but we can’t update all
of the old ones.  At least <code class="docutils literal notranslate"><span class="pre">webp</span></code> is in the default <code class="docutils literal notranslate"><span class="pre">anaconda</span></code>
modules.</p></li>
<li><p>If you write or maintain software in general, keep it up to date as
much as reasonable!  Don’t make others get into a place where they
are having to use old versions of libraries to make it work.</p></li>
<li><p>In general, think about your dependencies.  Be at least a little bit
suspicious before you install random other software, that may
possibly pull in lots of other dependencies.  Of course, as a
researcher, you may not have much choice.</p></li>
</ul>
<section id="updating-your-environments">
<h3>Updating your environments<a class="headerlink" href="#updating-your-environments" title="Link to this heading"></a></h3>
<p>These commands seem to be able to update an environment to a newer
libwebp.  It <em>seems</em> to work on newer environments, but we don’t know
for sure.  Instead of <code class="docutils literal notranslate"><span class="pre">mamba</span></code>, <code class="docutils literal notranslate"><span class="pre">conda</span></code> in theory works but is to
slow it may not be practical:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mamba<span class="w"> </span>env<span class="w"> </span><span class="nb">export</span><span class="w"> </span>&gt;<span class="w"> </span>environment.,yml
<span class="gp">$ </span>perl<span class="w"> </span>-i<span class="w"> </span>-pe<span class="w"> </span><span class="s1">&#39;s/(libwebp(-base)?)=.*$/\1=1.3.2/g&#39;</span><span class="w"> </span>environment.yml
<span class="gp">$ </span>mamba<span class="w"> </span>env<span class="w"> </span>update<span class="w"> </span>-f<span class="w"> </span>environment.yml
</pre></div>
</div>
</section>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Link to this heading"></a></h2>
<p>There is a major security vulnerability in <code class="docutils literal notranslate"><span class="pre">libwebp</span></code>.  While the
impact on computational scientists may not be <em>that</em> much, a bigger
issue is the difficulty of keeping all of the environments up to date
so that next time this happens, it’s easier to respond.</p>
<p>We hope to have more security recommendations for computational
scientists in the future.  If anyone is interested in collaborating on
this, let us know.</p>
</section>
<section id="aside-what-s-affected">
<h2>Aside: What’s affected?<a class="headerlink" href="#aside-what-s-affected" title="Link to this heading"></a></h2>
<p>Common apps which embed Chrome or libwebp: Chrome, Firefox, VSCode,
Zulip, Slack, Discord… things that use Electron to embed a web
browser are affected, and that’s <em>many</em> things.</p>
</section>
</section>

<div class="section ablog__blog_comments">
     
<div class="section ablog__prev-next">
  <span class="ablog__prev">
      Previous:
    
    <a href="../ssh-keys-with-passwords/">
      
      <span>Aalto public servers requiring passwords with SSH keys</span>
    </a>
    
  </span>
  <span class="ablog__spacer">&nbsp;</span>
  <span class="ablog__next">
      Next: 
    <a href="../dev-day-2023-aug/">
      <span>ASC development day, 2023 August</span>
      
    </a>
    
  </span>
</div>
  
</div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper"><h1 style="text-align: center; margin-top: 0px">
  <a href="../../">Aalto Scientific Computing Blog</a>
</h1>
<ul>
<li><a href="https://scicomp.aalto.fi">Home</a></li>
<li><a href="../../blog/atom.xml">Blog feed</a></li>
<li><a href="https://fosstodon.org/@SciCompAalto">Mastodon</a></li>
<li><a href="https://twitter.com/SciCompAalto">Twitter</a></li>
</ul>
<div class="ablog-sidebar-item ablog__postcard">
   
  <h2>
     
    <span>2023 Sep 28</span>
    
  </h2>
  <ul>
    <div class="ablog-sidebar-item ablog__postcard2">
   
  <li id="ablog-sidebar-item author ablog__author">
    <span>
       Author: 
    </span>
     
    <a href="../../blog/author/richard-darst/">Richard Darst</a>
      
  </li>
     
  <li id="ablog-sidebar-item category ablog__category">
    <span>
       Category: 
    </span>
     
    <a href="../../blog/category/triton/">triton</a>
     ,    
    <a href="../../blog/category/security/">security</a>
      
  </li>
    
</div>
  </ul>
</div>

<div class="ablog-sidebar-item ablog__recentposts">
  <h3>
    <a href="../../blog/">Recent Posts</a>
  </h3>
  <ul>
     
    <li>
      <a href="../../2025/ucl-rse-visit/">
        08 May - RSE report from visiting University College London Advanced Research Computing
      </a>
    </li>
    
    <li>
      <a href="../../2024/what-is-a-rse/">
        20 November - What is a Research Software Engineer?
      </a>
    </li>
    
    <li>
      <a href="../../2024/how-busy-is-the-cluster/">
        21 October - How busy is the cluster?  A discussion
      </a>
    </li>
    
    <li>
      <a href="../../2024/rse-work-rotations/">
        08 October - RSE work rotations
      </a>
    </li>
    
    <li>
      <a href="../../2024/rse-collaboration/">
        08 October - Future RSE collaboration in Finland
      </a>
    </li>
    
  </ul>
</div>

<div class="ablog-sidebar-item ablog__categories">
  <h3>
    <a href="../../blog/category/">Categories</a>
  </h3>
  <ul>
     
    <li>
      <a href="../../blog/category/ai/">AI (1)</a>
    </li>
      
    <li>
      <a href="../../blog/category/asc/">ASC (4)</a>
    </li>
      
    <li>
      <a href="../../blog/category/aalto/">aalto (1)</a>
    </li>
      
    <li>
      <a href="../../blog/category/python/">python (1)</a>
    </li>
      
    <li>
      <a href="../../blog/category/rse/">rse (6)</a>
    </li>
      
    <li>
      <a href="../../blog/category/security/">security (1)</a>
    </li>
      
    <li>
      <a href="../../blog/category/software/">software (1)</a>
    </li>
      
    <li>
      <a href="../../blog/category/ssh/">ssh (1)</a>
    </li>
      
    <li>
      <a href="../../blog/category/teaching/">teaching (2)</a>
    </li>
      
    <li>
      <a href="../../blog/category/triton/">triton (5)</a>
    </li>
      
    <li>
      <a href="../../blog/category/whisper/">whisper (1)</a>
    </li>
     
  </ul>
</div>

<div class="ablog-sidebar-item ablog__archives">
  <h3>
    <a href="../../blog/archive/">Archives</a>
  </h3>
  <ul>
     
    <li>
      <a href="../../blog/2025/">2025 (1)</a>
    </li>
      
    <li>
      <a href="../../blog/2024/">2024 (8)</a>
    </li>
      
    <li>
      <a href="../../blog/2023/">2023 (9)</a>
    </li>
      
    <li>
      <a href="../../blog/2021/">2021 (1)</a>
    </li>
     
  </ul>
</div>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2021-2023, Aalto Scientific Computing.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../../_sources/2023/webp-security-vulnerability.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>